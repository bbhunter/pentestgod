# Constrained Delegation

> We can access "only" (not that true) specific services on specific computers by impersonating an incoming user.

A typical scenario when a uer authenticates to a web service without Kerberos auth (for example, from a web form) and then the server makes requests to a database to fetch results based on user authorization. Because the user is authenticating to non Kerberos compliant, there are various extensions which allow protocol transition between non kerberos to kerberos auth:

- S4U2self: Allows the service to obtain a forwardable TGS to itself on behalf a user (without supplying a password). The service account must have the set the "TRUSTED_TO_AUTHENTICATE_FOR_DELEGTION_T2A4DU" attribute enabled.
- S4U2proxy: Allows a service to obtain a TGS to a second service on behalf a user.

**Note:** The SPNs we are able to connect (not that true) are the ones specified in the **"msDA-AllowedToDelegateTo"** attribute.
